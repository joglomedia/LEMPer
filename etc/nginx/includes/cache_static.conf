## Reusable static asset caching template.
# 
# Usage in location blocks:
#   location ~* \.(js|css)$ {
#       include /etc/nginx/includes/cache_static.conf;
#   }
#
# For custom duration, set before including:
#   set $cache_max_age "86400";  # 1 day
#   include /etc/nginx/includes/cache_static.conf;
#
# Default: 1 year with immutable (for fingerprinted/versioned assets)

# Set default cache duration if not specified (1 year = 31536000 seconds)
set $cache_max_age_default "31536000";

# Apply caching headers
# Using 'always' ensures headers are added even on error responses
add_header Pragma "public" always;
add_header Cache-Control "public, max-age=$cache_max_age_default, immutable" always;

# Disable logging for static assets
access_log off;
log_not_found off;

# Set expires header
expires max;
