## Generic PHP-FPM handler template.
# Usage: Set $php_version before including this file.
#
# Example:
#   set $php_version "8.3";
#   include /etc/nginx/includes/php_handler.conf;
#
# Or for versioned extensions (.php83, .php82, etc):
#   location ~ \.php83$ {
#       set $php_version "8.3";
#       include /etc/nginx/includes/php_handler.conf;
#   }

try_files $uri =404;

fastcgi_split_path_info ^(.+\.php)(/.+)$;
fastcgi_index index.php;

include /etc/nginx/fastcgi_params;
include /etc/nginx/includes/fastcgi.conf;

# Uncomment to enable PHP FastCGI cache.
#include /etc/nginx/includes/fastcgi_cache.conf;

# Pass to PHP-FPM socket based on $php_version variable
fastcgi_pass unix:/run/php/php$php_version-fpm.sock;
